---
const vibeKanbanUrl = import.meta.env.DEV 
  ? "http://localhost:45613" 
  : "https://kanban.yourdomain.com"; // Placeholder for prod, though this is mostly a dev tool
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Vibe Kanban Board</title>
    <style>
      body { margin: 0; padding: 0; font-family: system-ui, sans-serif; height: 100vh; display: flex; flex-direction: column; }
      header { background: #f4f4f5; padding: 0.5rem 1rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e4e4e7; }
      .back-link { text-decoration: none; color: #52525b; font-weight: 500; }
      .external-link { background: #18181b; color: white; padding: 0.5rem 1rem; border-radius: 6px; text-decoration: none; font-size: 0.875rem; }
      iframe { flex: 1; border: none; width: 100%; }
      .warning { padding: 2rem; text-align: center; color: #71717a; }
    </style>
  </head>
  <body>
    <header>
      <a href="/" class="back-link">← Back to Dashboard</a>
      <span>Vibe Kanban Manager</span>
      <a href={vibeKanbanUrl} target="_blank" class="external-link">Open in New Tab ↗</a>
    </header>

    {import.meta.env.DEV ? (
      <iframe src={vibeKanbanUrl} title="Vibe Kanban"></iframe>
    ) : (
      <div class="warning">
        <p>The Kanban board is only available in development mode (local).</p>
        <p>Please run <code>npx vibe-kanban</code> in your terminal.</p>
      </div>
    )}
  </body>
</html>
